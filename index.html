<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Página Web</title>
</head>
<body>
    <h1>EXTERNAL WEBSITE TEST ADOBE</h1>
    <script type='text/javascript'>
	function initEmbeddedMessaging() {
		// Añadir timeout de 10 segundos antes de mostrar el agente
		setTimeout(function() {
			try {
				embeddedservice_bootstrap.settings.language = 'nl'; // For example, enter 'en' or 'en-US'

				embeddedservice_bootstrap.init(
					'00Dbd000000XkCn',
					'Github_Messaging_Setting',
					'https://onecrminetum--test.sandbox.my.site.com/ESWGithubMessagingSetti1759831747758',
					{
						scrt2URL: 'https://onecrminetum--test.sandbox.my.salesforce-scrt.com'
					}
				);
				
				console.log('Agente de chat cargado después de 10 segundos');
				
				// Abrir el chat automáticamente después de que se inicialice
				setTimeout(function() {
					try {
						if (embeddedservice_bootstrap.utilAPI && embeddedservice_bootstrap.utilAPI.openWidget) {
							embeddedservice_bootstrap.utilAPI.openWidget();
							console.log('Chat abierto automáticamente');
						} else {
							console.log('utilAPI no disponible aún');
						}
					} catch (err) {
						console.error('Error abriendo el chat: ', err);
					}
				}, 2000); // 2 segundos después de aparecer el ícono
				
			} catch (err) {
				console.error('Error loading Embedded Messaging: ', err);
			}
		}, 10000); // 10000 milisegundos = 10 segundos
	};
</script>
<script type='text/javascript' src='https://onecrminetum--test.sandbox.my.site.com/ESWGithubMessagingSetti1759831747758/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>

</body>
</html>



<!--
Guía de uso de utilAPI de Salesforce Embedded Messaging

1. ¿Qué es utilAPI?
utilAPI es una interfaz JavaScript que permite interactuar con el widget de chat de Salesforce Embedded Messaging desde tu página web.

2. Funciones principales:

- openWidget()
	Abre el widget de chat.
	Ejemplo:
	embeddedservice_bootstrap.utilAPI.openWidget();

- closeWidget()
	Cierra el widget de chat.
	Ejemplo:
	embeddedservice_bootstrap.utilAPI.closeWidget();

- isWidgetOpen()
	Devuelve true si el widget está abierto, false si está cerrado.
	Ejemplo:
	const abierto = embeddedservice_bootstrap.utilAPI.isWidgetOpen();

- minimizeWidget()
	Minimiza el widget de chat.
	Ejemplo:
	embeddedservice_bootstrap.utilAPI.minimizeWidget();

- maximizeWidget()
	Maximiza el widget de chat.
	Ejemplo:
	embeddedservice_bootstrap.utilAPI.maximizeWidget();

3. Uso típico:
Asegúrate de que embeddedservice_bootstrap.utilAPI esté disponible antes de llamar a sus métodos, normalmente después de que el script de bootstrap se haya cargado.

4. Ejemplo de integración:
<script>
	if (embeddedservice_bootstrap.utilAPI) {
		embeddedservice_bootstrap.utilAPI.openWidget();
	}
</script>

Consulta la documentación oficial de Salesforce para más detalles y métodos avanzados.
-->
